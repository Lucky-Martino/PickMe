<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pick Me - Lucky Winner</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body class="pick-page">
    <main class="picker-container">
        <div class="picker-content">
            <h1 class="picker-title">Pick a Lucky Winner</h1>
            
            <div class="participants-section">
                <div class="manual-entry-section">
                    <h2 class="section-title">Add Participants</h2>
                    <div class="participant-input-container">
                        <div class="manual-input-container">
                            <input type="text" id="participantName" placeholder="Enter participant name">
                            <button id="addParticipant" class="add-button">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                    </div>
                    
                    <div class="participants-table-container">
                        <table class="participants-table">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="participantsList">
                                <!-- Participants will be added here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="file-controls">
                    <div class="file-upload-section">
                        <label for="fileUpload" class="file-upload-label">
                            <i class="fas fa-file-upload"></i> Upload Excel/CSV
                            <input type="file" id="fileUpload" accept=".xlsx,.xls,.csv" style="display: none;">
                        </label>
                        <span class="file-info" id="fileInfo"></span>
                    </div>
                    <div class="save-section">
                        <button id="saveList" class="save-button">
                            <i class="fas fa-save"></i> Save List
                        </button>
                    </div>
                </div>

                <!-- Save Format Modal -->
                <div id="saveFormatModal" class="modal">
                    <div class="modal-content">
                        <h2>Save List Format</h2>
                        <div class="format-options">
                            <button class="format-option" data-format="excel">
                                <i class="fas fa-file-excel"></i>
                                Excel (.xlsx)
                            </button>
                            <button class="format-option" data-format="csv">
                                <i class="fas fa-file-csv"></i>
                                CSV (.csv)
                            </button>
                            <button class="format-option" data-format="txt">
                                <i class="fas fa-file-alt"></i>
                                Text (.txt)
                            </button>
                        </div>
                        <button class="modal-close" id="closeSaveFormat">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <div class="list-management-buttons">
                    <div class="winners-control">
                        <label for="winnerCount">Number of Winners:</label>
                        <input type="number" id="winnerCount" min="1" value="1" class="winner-input">
                        <div class="winner-display-option">
                            <label class="toggle-label">
                                <input type="checkbox" id="displayAllWinners" checked>
                                <span class="toggle-switch"></span>
                                <span class="toggle-text">Show all winners at once</span>
                            </label>
                        </div>
                    </div>
                    <button id="resetWheel" class="control-button">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>

            <div class="wheel-section">
                <div class="wheel-container">
                    <div class="wheel" id="wheel">
                        <div class="wheel-center"></div>
                        <!-- Participants will be added as wheel segments -->
                    </div>
                </div>
                <div class="button-container">
                    <button id="spinButton" class="spin-button">
                        <i class="fas fa-random"></i>
                        Pick Winner
                    </button>
                </div>
            </div>

            <div id="winnerDisplay" class="winner-display">
                <div class="winner-display-content">
                    <button class="close-overlay">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="trophy-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h2 class="congratulations-text">Congratulations!</h2>
                    <div id="winnersList" class="winners-list"></div>
                    <div class="winner-actions">
                        <button id="pickAgain" class="winner-action-button">
                            <i class="fas fa-redo-alt"></i>
                            Pick Again
                        </button>
                        <button id="shareResults" class="winner-action-button">
                            <i class="fas fa-share-alt"></i>
                            Share Results
                        </button>
                    </div>
                    <div class="confetti" id="confetti"></div>
                </div>
            </div>

            <div id="pageWinnerResults" class="page-winner-results">
                <h3>Latest Winners</h3>
                <div id="pageWinnersList" class="page-winners-list"></div>
            </div>

            <!-- Edit Name Modal -->
            <div id="editModal" class="modal">
                <div class="modal-content">
                    <h2>Edit Name</h2>
                    <input type="text" id="editNameInput" class="edit-input">
                    <div class="modal-buttons">
                        <button id="saveEdit" class="modal-button">Save</button>
                        <button id="cancelEdit" class="modal-button">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Share Modal -->
            <div id="shareModal" class="modal">
                <div class="modal-content">
                    <button id="closeShare">
                        <i class="fas fa-times"></i>
                    </button>
                    <h2>Share Results</h2>
                    <div class="share-buttons">
                        <button class="share-button facebook" data-platform="facebook">
                            <i class="fab fa-facebook-f"></i>
                            Facebook
                        </button>
                        <button class="share-button twitter" data-platform="twitter">
                            <i class="fab fa-twitter"></i>
                            Twitter
                        </button>
                        <button class="share-button whatsapp" data-platform="whatsapp">
                            <i class="fab fa-whatsapp"></i>
                            WhatsApp
                        </button>
                        <button class="share-button email" data-platform="email">
                            <i class="fas fa-envelope"></i>
                            Email
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="picker.js"></script>
</body>
</html>
